<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="review">
<select id="review_insert" statementType="CALLABLE">
	{call review_insert(#{m_id}, #{b_id}, #{contents})
</select>

<!-- b_id별 등록된 리뷰 목록조회 -->
<select id="getReviews" resultType="java.util.Map">
select rownum, idx, m_id, writer, b_id, contents, to_char(post_date, 'yyyy-MM-dd') post_date 
from review_v
where b_id=#{b_id}
order by rownum desc, post_date desc
</select>

<delete id="delete">
delete from review where idx=#{idx}
</delete>

</mapper>