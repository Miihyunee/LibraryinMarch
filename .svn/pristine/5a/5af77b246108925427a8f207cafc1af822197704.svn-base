<%@ page language="java" contentType="text/html; charset=UTF-8"	pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>

  <table class="table table-sm table-hover align-middle text-center">
	<colgroup>
		<col width=5%>
		<col width=10%>
		<col width=70%>
		<col width=10%>
		<col width=5%>
	</colgroup>
	<thead>
	  <tr class="align-middle">
		<th scope="col"><strong>no.</strong></th>
		<th scope="col"><strong>Writer</strong></th>
		<th scope="col"><strong>Review</strong></th>
		<th scope="col"><strong>Date</strong></th>
		<th scope="col">
		 <c:choose>
			<c:when test="${sessionScope.mId !=null }">
				<input type="checkbox" id="userDelete" name="userDelete" checked="false" onclick="deleteReview('user')">
				<label class="btn" for="userDelete"><i class="bi bi-eraser-fill"></i></label>
			</c:when>
			<c:otherwise>
				<input type="checkbox" id="adminDelete" name="adminDelete" checked="false" onclick="deleteReview('admin')">
				<label class="btn" for="adminDelete"><i class="bi bi-eraser-fill"></i></label>
			</c:otherwise>
		  </c:choose>
		</th>
	  </tr>
	</thead>
	<tbody class="table-group-divider" style="border-top-color:#FAE0E0;">
		<c:choose>
		  <c:when test="${reviews.size() !=0 }">
			<c:forEach var="item" items="${reviews }">
			  <tr class="align-middle">
				<th scope="row">${item.ROWNUM}</th>
				<td>${item.WRITER}</td>
				<td>${item.CONTENTS}</td>
				<td>${item.POST_DATE}</td>
				<td>
				  <c:choose>
					<c:when test="${sessionScope.mId !=null && item.M_ID == sessionScope.mId }">
						<input type="checkbox" name="checkIdx" value="${item.IDX}">
					</c:when>
					<c:when test="${sessionScope.a_id !=null }">
						<input type="checkbox" name="checkIdx" value="${item.IDX}">
					</c:when>
					<c:otherwise>
						<input type="checkbox" name="checkIdx" style="display:none">
					</c:otherwise>
				  </c:choose>
				</td>
			  </tr>
			</c:forEach>
		  </c:when>
		  
		  <c:otherwise>
		  <tr class="align-middle">
		  	<td colspan="5" ><br><p>등록된 게시글이 없습니다.</p></td>
		  </tr>	
		  </c:otherwise>	
		</c:choose>	
	</tbody>
  </table>